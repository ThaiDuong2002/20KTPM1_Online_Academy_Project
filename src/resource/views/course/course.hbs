<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap"
    rel="stylesheet">


  <!-- Bootstrap core CSS -->
  <link href="/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">


  <!-- Additional CSS Files -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
    integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="/css/templatemo-cyborg-gaming.css">
  <link rel="stylesheet" href="/css/owl.css">
  <link rel="stylesheet" href="/css/animate.css">
  <link rel="stylesheet" href="https://unpkg.com/swiper@7/swiper-bundle.min.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
    integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">

  <!--

-->
</head>

<body style="background-color: #E2EAEF;width: 100vw;">
  <div class="container">
  </div>
  <div class="container-fluid" style="width:80%">
    <div class="row">
      <div class="col-lg-12">
        <div class="page-content" style="background-color: white;">

          <!-- ***** Banner Start ***** -->
          <div class="row">
            <div class="col-lg-12">
              <div class="main-profile " style="background-color: #E2EAEF;">
                <div class="row">
                  <div class="col-lg-4">
                    <div
                      style="border-top-left-radius: 23px;border-top-right-radius:23px ;height: 25vh;background-color: white;">
                      <img src="/data/image/{{course.image}}" alt=""
                        style="border-top-left-radius: 23px;border-top-right-radius:23px;object-fit:fill;height:25vh">
                    </div>
                    <div class="main-info header-text d-flex justify-content-center align-items-center text-center"
                      style="background-color: #e75e8d;border-bottom-left-radius:23px;border-bottom-right-radius: 23px;height:10vh;">
                      {{#if (compareZero course.discount)}}
                       <p class="item-price" style="margin-top: 10px;"> <b
                          style="color: black;font-size: 32px;">{{format_number (cal_discount course.price
                          course.discount)}}</b>
                        <strike style="color: black;font-size: 20px;">{{format_number course.price}}</strike>
                      </p> 
                      {{else}}
                       <p class="item-price" style="margin-top: 10px;"><b
                          style="color: black;font-size: 32px;">{{format_number course.price}}</b>
                        
                      </p> 
                      {{/if}}
                      
                    </div>
                  </div>
                  <div class="col-lg-4 align-self-center">
                    <div class="main-info header-text">

                      <h4 style="color: black;font-weight: 700;">{{course.name}}</h4>
                      <p>{{course.shortDesc}}</p>
                      <code>{{lec.fullname}}</code>

                      {{!-- {{#if isBuy}}
                      {{#ifEquals userdata.role 'Student'}}
                      <div class="main-border-button">
                        <a href="" style="pointer-events: none;">You purchased this course</a>
                      </div>
                      {{/ifEquals}}
                      {{else}} --}}
                      <div class="main-border-button">

                        {{#ifEquals auth true}}
                        {{#ifEquals userdata.role 'Student'}}
                        {{#if isBuy}}
                        <div class="main-border-button">
                          <a href="" style="pointer-events: none;">You purchased this course</a>
                        </div>
                        {{else}}
                       <form action="http://localhost:3000/user/buyProduct/{{course._id}}" method="post">
                          <a href="javascript:;" onclick="parentNode.submit();" class="btn btn-primary text-center justify-content-center"
                            style="display:flex; align-items:center; width: 40%;">Buy Now</a>
                        </form>
                        {{/if}}
                        {{else}}
                        {{#if checkedLecture}}
                        <div class="d-flex">
                          <form action="http://localhost:3000/course/edit/{{course._id}}" method="put">
                            <a href="javascript:;" onclick="parentNode.submit();" style="height: 5vh;">Edit</a>
                          </form>

                          <a href="/course/about/{{course._id}}" style="margin-left: 7px; height: 5vh;">Upload
                            Video</a>

                        </div>
                        {{!-- <form action="http://localhost:3000/edit/{{course._id}}" method="put">
                          <a href="javascript:;" onclick="parentNode.submit();" style="height: 5vh;">Edit</a>
                        </form> --}}

                        {{/if}}
                        {{/ifEquals}}
                        {{else}}
                        <form action="http://localhost:3000/user/buyProduct/{{course._id}}" method="post">
                          <a href="javascript:;" onclick="parentNode.submit();" class="btn btn-primary text-center justify-content-center"
                            style="display:flex; align-items:center; width: 40%;">Buy Now</a>
                        </form>
                        {{/ifEquals}}

                      </div>
                      {{!-- {{/if}} --}}


                    </div>
                  </div>
                  <div class="col-lg-4 align-self-center">
                    <ul>
                      <li>Rating:
                        {{#ifEquals course.rating 0}}
                        <span>None<i class="fa fa-star"></i></span>
                        {{else}}
                        <span>{{course.rating}}<i class="fa fa-star"></i>({{course.numberStudentRate}})</span>
                        {{/ifEquals}}
                      </li>
                      <li>Participants: <span>{{partcipantd}}</span></li>
                      <li>Last updated: <span>{{format_date course.updatedAt}}</span></li>
                      <li>Category: <span>{{course.category}}</span></li>
                      <li>Status:
                        <span>
                          {{#if course.complete}}
                          Complete
                          {{else}}
                          Incomplete
                          {{/if}}
                        </span>
                      </li>
                    </ul>
                  </div>
                </div>

                <div class="gaming-library profile-library">
                  <div class="col-lg-12">
                    <div class="accordion" id="accordionExample">
                      <div class="accordion-item ">
                        <h2 class="accordion-header" id="headingOne">

                          <button class="accordion-button" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne"
                            style="background-color: #272727;color:#E2EAEF">
                            OVERVIEW
                          </button>
                        </h2>
                        <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne"
                          data-bs-parent="#accordionExample">
                          <div class="accordion-body">
                            <table class="table">
                              <thead>
                              </thead>
                              <tbody>
                                {{#each overview}}
                                <tr>
                                  <td>{{this.title}}</td>
                                  <td style="width: 20px;"><a href="/course/pathVideo?fileid={{this.filename}}">
                                      <i class="fa-solid fa-circle-play" style="color: #e75e8d;font-size:40px">
                                      </i>
                                    </a>
                                  </td>
                                </tr>
                                {{/each}}
                              </tbody>
                            </table>
                          </div>
                        </div>
                      </div>
                      <div class="accordion-item">
                        <h2 class="accordion-header" id="headingTwo">
                          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo"
                            style="background-color: #272727;color:#E2EAEF">
                            BASIC CODE
                          </button>
                        </h2>
                        <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo"
                          data-bs-parent="#accordionExample">
                          <div class="accordion-body">
                            <table class="table">
                              <thead>
                              </thead>
                              <tbody>
                                {{#each basicCode}}
                                <tr>
                                  <td>{{this.title}}</td>
                                  <td style="width: 20px;">
                                    {{#if ../isBuy}}
                                    <a href="/course/pathVideo?fileid={{this.filename}}">
                                      {{else}}
                                      <a href="/course/pathVideo?fileid={{this.filename}}"
                                        style="pointer-events: none;">
                                        {{/if}}

                                        <i class="fa-solid fa-circle-play"
                                          style="color: #e75e8d;font-size:40px"></i></a>
                                  </td>
                                </tr>
                                {{/each}}

                              </tbody>
                            </table>
                          </div>
                        </div>
                      </div>
                      <div class="accordion-item">
                        <h2 class="accordion-header" id="headingFive">
                          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive"
                            style="background-color: #272727;color:#E2EAEF">
                            MASTER CODE
                          </button>
                        </h2>
                        <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingFive"
                          data-bs-parent="#accordionExample">
                          <div class="accordion-body">
                            <table class="table">
                              <thead>
                              </thead>
                              <tbody>
                                {{#each masterCode}}
                                <tr>
                                  <td>{{this.title}}</td>
                                  <td style="width: 20px;">
                                    {{#if ../isBuy}}
                                    <a href="/course/pathVideo?fileid={{this.filename}}">
                                      <i class="fa-solid fa-circle-play" style="color: #e75e8d;font-size:40px">
                                      </i>
                                    </a>
                                    {{else}}
                                    <a href="/course/pathVideo?fileid={{this.filename}}" style="pointer-events: none;">
                                      <i class="fa-solid fa-circle-play" style="color: #e75e8d;font-size:40px">
                                      </i>
                                    </a>
                                    {{/if}}
                                  </td>
                                </tr>
                                {{/each}}

                              </tbody>
                            </table>
                          </div>
                        </div>
                      </div>
                      <div class="accordion-item">
                        <h2 class="accordion-header" id="headingThree">
                          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree"
                            style="background-color: #272727;color:#E2EAEF">
                            ADVANCED CODE
                          </button>
                        </h2>
                        <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree"
                          data-bs-parent="#accordionExample">
                          <div class="accordion-body">
                            <table class="table">
                              <thead>
                              </thead>
                              <tbody>
                                {{#each advancedCode}}
                                <tr>
                                  <td>{{this.title}}</td>
                                  <td style="width: 20px;">
                                    {{#if ../isBuy}}
                                    <a href="/course/pathVideo?fileid={{this.filename}}">
                                      <i class="fa-solid fa-circle-play" style="color: #e75e8d;font-size:40px">
                                      </i>
                                    </a>
                                    {{else}}
                                    <a href="/course/pathVideo?fileid={{this.filename}}" style="pointer-events: none;">
                                      <i class="fa-solid fa-circle-play" style="color: #e75e8d;font-size:40px">
                                      </i>
                                    </a>
                                    {{/if}}

                                  </td>
                                </tr>
                                {{/each}}

                              </tbody>
                            </table>
                          </div>
                        </div>
                      </div>

                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- ***** Banner End ***** -->
          <div class="row">
            <div class="col-lg-12">
              <div class="clips">
                <div class="col-lg-12">
                  <div class="heading-section">
                    <h4 style="margin-bottom: 10px"><em style="color: black;text-decoration: none;">Description</em></h4>
                  </div>
                </div>
                <div class="col-lg-12">

                  <div class="instructor-item">


                  </div>
                  <div class="instructor-paraphraph show">
                    <p style="color: #000;" class = "text-muted">
                      {{{course.fullDesc}}}
                    </p>
                  </div>
                  <span class="instructor-btn show-less-btn " onclick="showLessInstructorContent()">Show less <i
                      class="fa-solid fa-chevron-up"></i></span>
                  <span class="instructor-btn show-more-btn" onclick="showMoreInstructorContent()">Show more <i
                      class="fa-solid fa-chevron-down"></i></span>
                </div>
              </div>
            </div>
          </div>
          <!-- ***** Gaming Library Start ***** -->
          <div class="row">
            <div class="col-lg-12">
              <div class="clips">
                <div class="col-lg-12">
                  <div class="heading-section">
                    <h4><em style="color: black;text-decoration: none;">Top 5 </em>Purchased Courses</h4>
                  </div>
                </div>
                <div class="row">
                  {{#each top5courses}}
                  <div class="col">
                    <div class="item card-body" style="">
                      <a href="/course/{{this._id}}">
                        <div class="">
                          <img src="/data/image/{{this.image}}" style="border-radius: 23px;height:15vh;">
                        </div>
                      </a>
                      <br>
                      <h4 style="color: #e75e8d;height:5vh;font-weight:600;width: 100%;" class="shortDescription">
                        {{this.name}}
                      </h4>
                      <div class="down-content d-flex justify-content-between">
                        
                        <h4 style="font-weight: 700;"> {{format_number (cal_discount this.price this.discount)}}</h4>
                        {{#ifEquals this.rating 0}}

                        {{else}}
                        <span>{{this.rating}} <i class="fa fa-star"></i></span>
                        {{/ifEquals}}
                      </div>
                    </div>
                  </div>
                  {{/each}}

                </div>
              </div>
            </div>
          </div>
          <!-- ***** Gaming Library End ***** -->
          <!--**** -->
          <div class="row">
            <div class="col-lg-12">
              <div class="clips">
                <div class="col-lg-12">
                  <div class="heading-section">
                    <h4><em style="color: black;text-decoration: none;">Instructors</em></h4>
                  </div>
                </div>
                <div class="col-lg-12">
                  <span class="instructor-introduce">{{lec.fullname}}</span>
                  <div class="instructor-item">
                    <img src="/data/image/{{lec.image}}" alt="" class="instructor-img" />

                  </div>
                  <div class="">
                    <p style="color: #000;">
                      {{{lec.about}}}
                    </p>

                  </div>
                </div>
              </div>
              {{!-- End intro --}}
              <div>
                <code style="font-size: 30px;">COMMENT({{course.comment.length}})</code>
                <div>
                  <div class="row">
                    {{#each smallComment}}
                    {{#if this.name}}
                    <div class="col-sm-5 col-md-6" style="margin-top: 10px;">
                      <div class="clips">
                        <div class="content" style="margin: 30px;">
                          <div class="d-flex">
                            <img src="/data/image/{{this.image}}" style="height: 30px;width: 30px;"
                              class="rounded-circle mt-2">
                            <div style="margin-left: 30px;">
                              <li style="font-family: bold; font-weight: bold">{{this.name}}</li>
                              {{#ifEquals this.rating 0}}
                              <li>None<i class="fa fa-star" style="color: #e75e8d;"></i> </li>
                              {{else}}
                              <li>{{this.rating}}<i class="fa fa-star" style="color: #e75e8d;"></i> </li>
                              {{/ifEquals}}
                            </div>
                          </div>
                          <div class="comment-student text-muted" style="margin: 10px;">
                            <li  class ="ml-5">{{this.content}}</li>
                          </div>
                        </div>
                      </div>
                    </div>
                    {{/if}}
                    {{/each}}
                  </div>
                </div>
                <div class="d-flex justify-content-end" style="margin-bottom: 30px;">
                  <button type="button" class="btn btn-primary" data-toggle="modal"
                    data-target=".bd-example-modal-lg">MORE
                    COMMENT</button>
                </div>
                <div class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog"
                  aria-labelledby="myLargeModalLabel" aria-hidden="true">
                  <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                      <div class="row">
                        <h3 style="color:#e75e8d;margin: 20px;">Comment Of Student</h3>
                        {{#each course.comment}}
                        {{#if this.name}}
                        <div class="col-sm-5 col-md-6">
                          <div class="clips">
                            <div class="content" style="margin: 30px;">
                              <div class="d-flex">
                                <img src="/data/image/{{this.image}}" style="height: 30px;width: 30px;"
                                  class="rounded-circle mt-2">
                                <div style="margin-left: 30px;">
                                  <li style="font-family: bold; font-weight: bold">{{this.name}}</li>
                                  {{#ifEquals this.rating 0}}
                                  <li>None<i class="fa fa-star" style="color: #e75e8d;"></i> </li>
                                  {{else}}
                                  <li>{{this.rating}}<i class="fa fa-star" style="color: #e75e8d;"></i> </li>
                                  {{/ifEquals}}
                                </div>
                              </div>
                              <div class="comment-student text-muted" style="margin: 10px;">
                                <li class = "ml-5">{{this.content}}</li>
                              </div>
                            </div>
                          </div>
                        </div>
                        {{/if}}
                        {{/each}}
                      </div>
                    </div>
                  </div>
                </div>

                {{#if isBuy}}
                {{!-- Start comment --}}
                <div class="d-flex justify-content-center">
                  <div class="card w-100">
                    {{userdata.fullname}}
                    <div class="row">
                      <div class="col-2">
                        <img src="/data/image/{{userdata.image}}" style="height: 70px;width: 70px;"
                          class="rounded-circle mt-2">
                      </div>
                      <div class="col-10">
                        <div class="comment-box ml-2">
                          <form id="regis" method="post" action="/course/comment?course_id={{course_id}}">
                            <div class="rating">
                              <input type="radio" name="rating" value="5" id="5"><label for="5">☆</label>
                              <input type="radio" name="rating" value="4" id="4"><label for="4">☆</label>
                              <input type="radio" name="rating" value="3" id="3"><label for="3">☆</label>
                              <input type="radio" name="rating" value="2" id="2"><label for="2">☆</label>
                              <input type="radio" name="rating" value="1" id="1"><label for="1">☆</label>
                            </div>
                            <div class="comment-area">
                              <textarea class="form-control" type="text " placeholder="what is your view?"
                                name="content" rows="4"></textarea>
                              <div class="d-flex justify-content-center" style="margin-top: 20px;">
                                <button type="submit" class="btn btn-outline-primary">Send</button>
                              </div>
                            </div>
                          </form>
                          <div class="comment-btns mt-2">
                            <div class="row">
                              <div class="col-6">
                                <div class="pull-left">
                                </div>
                              </div>
                              <div class="d-flex justify-content-center">
                                <div class="">
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                {{!-- END COmment --}}
                {{/if}}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
</body>
</div>



<!-- Scripts -->
<!-- Bootstrap core JavaScript -->

<script src="/vendor/jquery/jquery.min.js"></script>
<script src="/vendor/bootstrap/js/bootstrap.min.js"></script>

<script src="/js/isotope.min.js"></script>
<script src="/js/owl-carousel.js"></script>
<script src="/js/tabs.js"></script>
<script src="/js/popup.js"></script>
<script src="/js/custom.js"></script>
<script src="path/to/plyr.js"></script>
<script>
  x = 0;
  function myFunction() {
    document.getElementById("demo").innerHTML = x += 1;
  }

  y = 0;
  function mySecondFunction() {
    document.getElementById("demo2").innerHTML = y += 1;
  }
</script>
<script>

  //-------------------JUST FOR INSTRUCTOR :v------------------------------------
  const instructorParaphraph = document.querySelector('.instructor-paraphraph')
  const instructorShowMoreBtn = document.querySelector('.show-more-btn')
  const instructorShowLessBtn = document.querySelector('.show-less-btn')

  const showMoreInstructorContent = () => {
    instructorParaphraph.style.height = 'auto'
    instructorParaphraph.classList.remove('show')
    instructorShowLessBtn.style.display = 'inline-block'
    instructorShowMoreBtn.style.display = 'none'
  }
  const showLessInstructorContent = () => {
    instructorParaphraph.style.height = '50px'
    instructorParaphraph.classList.add('show')
    instructorShowLessBtn.style.display = 'none'
    instructorShowMoreBtn.style.display = 'inline-block'
  }

    //-------------------END FOR INSTRUCTOR :v------------------------------------

</script>

</body>

<style>
  .accordion-button::after {
    height: 0;
  }

  footer p {
    padding: 0;
  }

  .instructor-item {
    display: flex;
    gap: 20px;
    margin: 20px 0;
  }

  .instructor-name {
    color: #ec6090;
    font-size: 24px;
  }

  .instructor-introduce {
    font-weight: bold;
  }

  .instructor-img {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    object-fit: cover;
  }

  .comment-img {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    object-fit: cover;
  }

  .instructor-btn {
    color: #e75e8d;
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
  }

  .instructor-paraphraph {
    overflow: hidden;
    height: 50px
  }

  .instructor-paraphraph.show {
    -webkit-mask-image: linear-gradient(#ffffff, #ffffff, rgba(255, 255, 255, 0));
  }

  .show-less-btn {
    display: none;
  }
  .shortDescription {
        display: -webkit-box;
   -webkit-line-clamp: 1;
   -webkit-box-orient: vertical;
   overflow: hidden;
   text-overflow: ellipsis;
  }
  body {
    height: 100%
  }

    {
      {
      !-- body {
        display: grid;
        place-items: center;
        font-family: 'Manrope', sans-serif;
        background: red;

      }

      --
    }
  }

  .card {
    position: relative;
    display: flex;
    flex-direction: column;
    min-width: 0;
    padding: 20px;
    width: 450px;
    word-wrap: break-word;
    background-color: #fff;
    background-clip: border-box;
    border-radius: 6px;
    -moz-box-shadow: 0px 0px 5px 0px rgba(212, 182, 212, 1)
  }

  .comment-box {

    padding: 5px;
  }



  .comment-area textarea {
    resize: none;
    border: 1px solid #ad9f9f;
  }


  .form-control:focus {
    color: #495057;
    background-color: #fff;
    border-color: #ffffff;
    outline: 0;
    box-shadow: 0 0 0 1px rgb(255, 0, 0) !important;
  }

  .send {
    color: #fff;
    background-color: #ff0000;
    border-color: #ff0000;
  }

  .send:hover {
    color: #fff;
    background-color: #f50202;
    border-color: #f50202;
  }


  .rating {
    display: flex;
    margin-top: -10px;
    flex-direction: row-reverse;
    margin-left: -4px;
    float: left;
  }

  .rating>input {
    display: none
  }

  .rating>label {
    position: relative;
    width: 19px;
    font-size: 25px;
    color: #ff0000;
    cursor: pointer;
  }

  .rating>label::before {
    content: "\2605";
    position: absolute;
    opacity: 0
  }

  .rating>label:hover:before,
  .rating>label:hover~label:before {
    opacity: 1 !important
  }

  .rating>input:checked~label:before {
    opacity: 1
  }

  .rating:hover>input:checked~label:before {
    opacity: 0.4
  }
</style>